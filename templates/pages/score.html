{% extends 'layout/app.html' %}

{% load static %}

{% block body %}
<div id="content-wrapper">
    <div class="container-fluid">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible" role="alert">
            {{ message }}
        </div>
        {% endfor %}

        <h2>Penilaian</h2>
        <form id="score-form" action="/surpre/scorepost" method="POST">
            {% csrf_token %}
            <div class="ml-3 mr-3">
                <div class="form-group">
                    <input type="text" class="form-control" id="startupname" placeholder="Nama Start-Up/UMKM"
                        value="{{startupname}}" name="startupname">
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="productname" placeholder="Nama Produk"
                        value="{{productname}}" name="productname">
                </div>
            </div>

            <div class="mb-3 mr-3 ml-3">
                <div id="accordion">
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <div class="mb-0">
                                <a class="btn" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                                    aria-controls="collapseOne">
                                    User Sentiment State
                                </a>
                            </div>
                        </div>

                        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                            <div class="card-body">
                                <p>Skala Penilaian: (1) sangat tidak lengkap; (2) tidak lengkap; (3) cukup lengkap; (4)
                                    lengkap; (5) sangat lengkap </p>
                                {%for sentimentattribute in sentimentattributes%}
                                <div class="row">
                                    <div class="col-sm">
                                        <p>{{sentimentattribute.name}}:</p>
                                    </div>
                                    <div class="col-sm">
                                        {% for choice in choices %}
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio"
                                                name="inlineRadioOptions{{sentimentattribute.id}}" id="inlineRadio1"
                                                value="{{ choice.value }}"
                                                {%if sentimentattribute.value is choice.value %}checked{%endif%}>
                                            <label class="form-check-label"
                                                for="inlineRadio1">{{ choice.value }}</label>
                                        </div>
                                        {% endfor %}
                                    </div>
                                </div>
                                {%endfor%}

                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header" id="headingTwo">
                            <div class="mb-0">
                                <a class="btn collapsed" data-toggle="collapse" data-target="#collapseTwo"
                                    aria-expanded="false" aria-controls="collapseTwo">
                                    Informasi Start-up Company
                                </a>
                            </div>
                        </div>
                        <div id="collapseTwo" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                            <div class="card-body">
                                <p>Skala Penilaian: (1) sangat tidak lengkap; (2) tidak lengkap; (3) cukup lengkap; (4)
                                    lengkap; (5) sangat lengkap </p>
                                {%for infostartupattribute in infostartupattributes%}
                                <div class="row">
                                    <div class="col-sm">
                                        <p>{{infostartupattribute.name}}: </p>
                                    </div>
                                    <div class="col-sm">
                                        {% for choice in choices %}
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio"
                                                name="inlineRadioOptions{{infostartupattribute.id}}" id="inlineRadio1"
                                                value="{{ choice.value }}"
                                                {%if infostartupattribute.value is choice.value %}checked{%endif%}>
                                            <label class="form-check-label"
                                                for="inlineRadio1">{{ choice.value }}</label>
                                        </div>
                                        {% endfor %}
                                    </div>
                                </div>
                                {%endfor%}

                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header" id="headingThree">
                            <div class="mb-0">
                                <a class="btn collapsed" data-toggle="collapse" data-target="#collapseThree"
                                    aria-expanded="false" aria-controls="collapseThree">
                                    Informasi Platform Company
                                </a>
                            </div>
                        </div>
                        <div id="collapseThree" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                            <div class="card-body">

                                <p>Skala Penilaian: (1) sangat tidak lengkap; (2) tidak lengkap; (3) cukup lengkap; (4)
                                    lengkap; (5) sangat lengkap </p>
                                {%for infoplatformattribute in infoplatformattributes%}
                                <div class="row">
                                    <div class="col-sm">
                                        <p>{{infoplatformattribute.name}}: </p>
                                    </div>
                                    <div class="col-sm">
                                        {% for choice in choices %}
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="radio"
                                                name="inlineRadioOptions{{infoplatformattribute.id}}" id="inlineRadio1"
                                                value="{{ choice.value }}"
                                                {%if infoplatformattribute.value is choice.value %}checked{%endif%}>
                                            <label class="form-check-label"
                                                for="inlineRadio1">{{ choice.value }}</label>
                                        </div>
                                        {% endfor %}
                                    </div>
                                </div>
                                {%endfor%}

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="ml-3 mr-3">
                <div class=" text-center mb-3">
                    <a href="" class="btn btn-danger" data-toggle="modal" data-target="#resetScoreModal">Reset</a>
                    <button type="submit" name="calculate" class="btn btn-primary">Hitung</button>
                </div>
                <div>
                    <p>User sentiment: {{sentimentscore}}</p>
                    <p>Informasi Start-up Company: {{infostartupscore}}</p>
                    <p>Informasi Platform Company: {{infoplatformscore}}</p>
                    <p>Total skor: {{totalscore}}, Level sukses: {{scorecategory}}</p>
                    <p>Tanggal prediksi: {{calculatedate}}</p>
                </div>
            </div>
            <div class="text-center ml-3 mr-3 mb-3">
                <a href="" class="btn btn-success" data-toggle="modal" data-target="#saveScoreModal">Simpan</a>
            </div>

            <!-- Save Score Modal-->
            <div class="modal fade" id="saveScoreModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Konfirmasi</h5>
                            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">Pilih "Save" untuk simpan. "Cancel" untuk batal.</div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary" name="save" >Save</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- R Score Modal-->
            <div class="modal fade" id="resetScoreModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Konfirmasi</h5>
                            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">Pilih "Continue" untuk reset data, semua data yg sudah diisi akan terhapus. "Cancel" untuk batal.</div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary" name="reset" >Continue</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>

    </div>
</div>
</div>


{% endblock %}
{% block javascript %}

{% endblock %}